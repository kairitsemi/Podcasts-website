<app-header></app-header>
<div class="container">
  <h1>Shop</h1>
  <section class="mt-3">
    <div class="text-center">
      <span class="product-type" [ngClass]="activeProductType =='all' ? 'active': ''" (click)="chooseProductTypeToDisplay('all')">All Products   |   </span>
      <span class="product-type" [ngClass]="activeProductType =='shirt' ? 'active': ''" (click)="chooseProductTypeToDisplay('shirt')">Shirts   |   </span>
      <span class="product-type" [ngClass]="activeProductType =='mug' ? 'active': ''" (click)="chooseProductTypeToDisplay('mug')">Mugs   |   </span>
      <span class="product-type" [ngClass]="activeProductType =='bag' ? 'active': ''" (click)="chooseProductTypeToDisplay('bag')">Tote Bags</span>
    </div>
  </section>
  <section class="mt-5">
    <div class="d-flex flex-wrap justify-content-evenly">
      <div *ngFor="let product of displayedProducts" class="product col-md-4 m-4">
        <div>
          <img src="{{product.imagePath}}" alt="Image of The Product" class="w-100">
          <h5>{{product.name}}</h5>
          <div>Material: {{product.material}}</div>
          <div>{{product.singleItemPrice | number : '1.2-2'}} €</div>
          <div class="d-flex">
            <label for="{{'quantity' + product.id}}" class="align-self-center">Quantity: </label>
            <input id="{{'quantity' + product.id}}" type="number" value=0 min=0 class="form-control quantity" #productQuantityInput>
            <button class="btn btn-success add-to-cart" (click)="addToCart(product)" (click)="(productQuantityInput.value = '0' )">+ Add to cart</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <button class="cart-button" (click)="toggleCartDetail()" role="button">
    <b>{{productsInCartAmount}}</b>
    <img src="assets/shopping_cart_icon.png" alt="">
  </button>

  <div class="cart-detailed" [hidden]="!cartDetailedHidden">
    <div class="container">
      <div class="d-flex justify-content-between">
        <h4>Shopping Cart</h4>
        <button class="btn" (click)="toggleCartDetail()">X</button>
      </div>
      <div class="d-flex flex-column justify-content-between cart-inside">
      <div *ngFor="let productInCart of productsInCart">
        <div class="d-flex my-3">
          <div class="col-3">
            <img src="{{productInCart.imagePath}}" alt="Image of The Product">
          </div>
          <div class="col-7">
            <b>{{productInCart.name}}</b>
              <div>Quantity: {{productInCart.amount}}</div>
              <div>{{productInCart.priceSum | number : '1.2-2'}} €</div>
          </div>
          <div class="col-2">
            <button class="btn btn-danger remove-from-cart" (click)="removeProductFromCart(productInCart)">X</button>
          </div>
        </div>
      </div>
      <div class="total-sum">
        Total: {{itemsInCartTotalSum | number : '1.2-2'}} €
      </div>
    </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
